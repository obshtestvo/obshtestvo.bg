{% extends "layout.html" %}
{% load url from future %}
{% load restful %}
{% load staticfiles %}

{% block headTag %}
    {#    Тук се добавят допълнителни CSS файлове по примера на долния ред #}
    <link rel="stylesheet" type="text/css" href="{% static 'libs/select2/select2.css' %}">
    {#    Горния ред търси във всяка папка на горно ниво в проекта (auth, locale, login, projects..) файл вътре в нея #}
    {#    за файл вътре в нея "static/css/lib/select2/select2.css" #}
{% endblock %}

{% block footerTag %}
    <script src="{% static 'js/lib/select2/select2.mod.min.js' %}"></script>
    <script src="{% static 'js/select2grouped.js' %}"></script>
    <script src="{% static 'js/lib/select2/select2_locale_bg.js' %}"></script>
    {#    Тук се добавят допълнителни javascript файлове по примера на долния ред #}
    <script src="{% static 'js/profile.js' %}"></script>
    {#    Горния ред търси във всяка папка на горно ниво в проекта (auth, locale, login, projects..) файл вътре в нея #}
    {#    за файл вътре в нея "static/js/users.js" #}
{% endblock %}

{% block content %}
        <form style="padding-top:100px; padding-left: 20%;" method="POST" action="{{profile.id}}"  enctype="multipart/form-data">
        <label for="prev_avatar"></label><input style="display: none" class="file" id="avatar" name="avatar" type="file"  value="{{ profile.get_avatar }}">
        <img id="prev_avatar" alt="avatar" src="{{ profile.get_avatar }}" width="150px"/>
        <div><label style="display:block;" for="full_name">Име:</label>
            <input style="width: 75%;" name="full_name" value="{{ profile.first_name }} {{ profile.last_name }}"/>
            <span class="err"></span></div>
        <div style="padding-top:1.5%"><label style="display:block;" class="full_width" for="email">Емайл:</label>
            <input style="width: 75%;" name="email" value="{{ profile.email }} "/>
            <span class="err"></span></div>
        <div style="padding-top:1.5%"><label style="display:block;" for="location">Местоположение:</label>
            <input style="display: none; width: 75%;" name="location" value="{{ profile.location }}"/>
            <div id="map" style="height: 150px; width: 75%;"></div>
            <span class="err"></span></div>
        <div style="padding-top:1.5%"><label style="display:block;" for="profession">Професия:</label>
            <input style="width: 75%;" name="profession" value="{{ profile.profession }}"/>
            <span class="err"></span></div>
        <div style="padding-top:1.5%"><label style="display:block;" for="motivation">Мотивация:</label>
            <textarea style="width: 75%;" name="motivation">{{ profile.motivation }}</textarea>
            <span class="err"></span></div>
        <div style="padding-top:1.5%"><label style="display:block;" for="skills">Умения:</label>
            <input type="hidden" id="joinSkills" name="skills" style="width:76%" value=""
                   data-selection="{% for s in profile.skills.all %}{{ s.id }}{% if not forloop.last %}|{% endif %}{% endfor %}"
                   data-choices="{{ all_skills|jsonify }}"
            />
        <span class="err"></span></div>
        <button style="float: right; margin-top:2%; margin-right: 24%" class="button small blue" id="update_user_btn">Актуалицирай</button>
    </form>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/openlayers/2.13.1/OpenLayers.js"></script>
{% endblock %}